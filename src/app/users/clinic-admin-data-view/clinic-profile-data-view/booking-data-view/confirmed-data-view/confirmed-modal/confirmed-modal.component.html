<p-header>
  <div class="d-flex justify-content-between align-items-center py-3 header">
    <div>
      <i
        class="pi pi-arrow-circle-left"
        style="cursor: pointer"
        (click)="closeDialog()"
      ></i>
    </div>
    <span class="text-center w-100">
      <h2 class="mb-0" style="font-weight: bold; color: steelblue">
        {{ translate.instant("Add New") }}
      </h2>
    </span>
  </div>
</p-header>

<form [formGroup]="confirmedForm">
  <mat-form-field [style.width]="'100%'" appearance="outline" class="mt-3">
    <mat-label>{{ "DOCTOR_NAME" | translate }}</mat-label>
    <input matInput autocomplete="nope" formControlName="doctor_name" />
  </mat-form-field>

  <div class="row">
    <div class="col-6">
      <mat-form-field [style.width]="'100%'" appearance="outline">
        <mat-label>{{ "FIRST_NAME" | translate }}</mat-label>
        <input matInput autocomplete="nope" formControlName="first_name" />
      </mat-form-field>
    </div>
    <div class="col-6">
      <mat-form-field [style.width]="'100%'" appearance="outline">
        <mat-label>{{ "LAST_NAME" | translate }}</mat-label>
        <input matInput autocomplete="nope" formControlName="last_name" />
      </mat-form-field>
    </div>
  </div>

  <div class="row">
    <div class="col-6">
      <mat-form-field [style.width]="'100%'" appearance="outline">
        <mat-label>{{ "EMAIL" | translate }}</mat-label>
        <input
          matInput
          autocomplete="nope"
          formControlName="email"
          type="email"
        />
      </mat-form-field>
    </div>
    <div class="col-6">
      <mat-form-field [style.width]="'100%'" appearance="outline">
        <mat-label>{{ "PHONE_NUMBER" | translate }}</mat-label>
        <input
          matInput
          autocomplete="nope"
          formControlName="phone_number"
          type="number"
        />
      </mat-form-field>
    </div>
  </div>

  <mat-form-field [style.width]="'100%'" appearance="outline" class="mt-3">
    <mat-label>{{ "NOTE" | translate }}</mat-label>
    <textarea matInput formControlName="note"></textarea>
  </mat-form-field>

  <mat-form-field appearance="outline" [style.width]="'100%'" class="date">
    <mat-label>{{ "DATE" | translate }}</mat-label>
    <input matInput [matDatepicker]="datepicker" formControlName="date" />
    <mat-datepicker-toggle
      matIconSuffix
      [for]="datepicker"
    ></mat-datepicker-toggle>
    <mat-datepicker #datepicker>
      <mat-datepicker-actions>
        <button mat-button matDatepickerCancel>Cancel</button>
        <button mat-raised-button color="primary" matDatepickerApply>
          Apply
        </button>
      </mat-datepicker-actions>
    </mat-datepicker>
  </mat-form-field>
</form>

<div class="p-dialog-footer text-center p-0 px-1">
  <button
    pButton
    type="button"
    [disabled]="!confirmedForm.valid"
    class="p-success p-button-sm"
    (click)="saveReqest(confirmedForm.value)"
    [label]="
      dialogStatus === 'Add'
        ? translate.instant('ADD')
        : translate.instant('Acceptance')
    "
  ></button>

  <button
    *ngIf="showBtn"
    pButton
    type="button"
    class="p-button-danger p-button-sm"
    (click)="saveReqest(confirmedForm.value)"
    [label]="translate.instant('BLOCK')"
  ></button>

  <button
    *ngIf="showBtn"
    pButton
    type="button"
    class="p-button-secondary p-button-sm"
    (click)="saveReqest(confirmedForm.value)"
    [label]="translate.instant('REJECT')"
  ></button>

  <button
    *ngIf="!showBtn"
    pButton
    type="button"
    class="p-secondary p-button-sm"
    (click)="closeDialog()"
    [label]="translate.instant('CANCEL')"
  ></button>
</div>
